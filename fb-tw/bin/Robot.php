<?php

define('ROOT_DIR', realpath('../'));
include_once ROOT_DIR . '/bin/config.php';

try {
		$uidlist = array(12560,15280,21600,33920,40800,41280,50240,50320,51200,54240,60480,71120,83120,117840,125040,155600,204560,208640,216640,218720,244160,254400,256320,257760,282080,321120,348880,383040,419120,422800,423520,446240,460560,461680,475600,476160,480800,536400,570640,575520,575920,584240,586320,587760,610720,643120,661280,668960,670000,695920,742320,777360,810640,832640,836640,858800,901360,905840,913680,984800,996880,1017440,1032640,1054080,1061600,1085680,1102160,1104880,1134400,1139760,1188960,1189520,1190800,1194480,1231680,1232640,1252880,1257840,1263920,1269280,1274960,1290480,1296320,1318160,1323440,1327440,1328240,1331520,1387040,1393520,1410320,1459520,1477680,1500800,1504240,1514160,1517600,1521520,1524640,1577680,1595760,1631520,1649360,1653600,1687760,1703600,1706800,1729440,1734800,1744640,1746480,1750640,1759280,1761440,1767280,1787200,1794240,1803120,1821280,1821600,1853520,1866480,1876240,1928800,1942480,1947200,1950720,1956080,1975040,1983040,1987680,2003760,2009840,2012000,2019280,2029840,2070000,2071600,2113840,2121920,2144880,2154480,2161760,2162080,2162240,2167840,2207680,2225920,2261360,2264400,2278560,2280560,2281040,2287920,2328560,2364480,2373840,2379280,2381760,2388560,2388960,2413360,2415040,2437200,2477360,2487920,2491040,2514480,2516640,2547600,2554000,2559200,2563520,2573120,2573840,2599920,2604560,2633440,2652240,2692880,2726400,2733120,2737760,2744400,2757440,2791520,2803600,2824880,2840800,2853520,2863440,2885120,2885840,2893200,2909600,2953600,2957760,2998160,3001760,3008880,3029600,3041200,3045360,3054240,3061520,3073920,3074160,3114640,3128880,3135600,3226320,3243360,3310160,3316800,3342160,3352000,3360960,3372480,3399440,3402880,3402960,3428960,3435360,3453120,3464320,3477520,3494880,3520240,3521680,3543120,3543680,3567360,3593680,3611360,3646400,3731120,3738400,3747600,3765840,3771040,3774800,3792800,3796560,3810960,3817200,3842560,3858160,3883600,3902880,3907600,3920880,3949760,3951920,3955920,3956080,3959680,3962880,3982080,3984320,4131200,4135520,4150720,4166080,4166800,4168240,4174720,4186800,4201200,4205680,4223520,4229200,4232480,4240080,4254960,4255280,4280560,4301360,4301840,4308800,4449280,4449600,4450640,4451200,4460560,4471840,4472160,4479600,4487200,4490960,4496160,4522240,4527760,4542480,4559360,4573920,4583280,4595920,4628880,4633840,4638240,4656960,4674000,4679520,4700240,4701440,4711040,4716560,4722880,4730000,4742560,4749440,4808880,4815680,4818000,4818160,4831040,4834400,4840160,4843920,4894000,4953120,4964080,4973280,4975200,5001280,5008400,5023920,5050640,5060480,5089360,5109200,5109520,5125680,5151360,5155280,5157440,5170080,5184000,5195520,5199680,5201280,5206160,5246800,5267920,5272480,5286640,5305840,5308800,5361600,5372640,5382960,5392240,5400320,5407760,5409040,5418480,5424800,5426560,5428160,5440240,5453040,5454400,5476720,5479760,5487440,5497520,5524720,5539600,5550800,5553440,5563360,5570000,5579760,5611840,5620240,5628720,5629280,5641600,5650160,5664800,5675120,5683200,5692960,5705360,5724080,5724880,5743520,5751280,5764000,5765600,5765840,5801360,5802480,5824560,5850800,5883280,5892960,5968160,5973600,5998800,6006480,6012720,6018720,6029120,6034800,6084480,5688,9288,11048,15128,16088,21288,22408,28808,29688,37848,40808,46248,48488,50488,60168,67048,71768,80328,84568,86728,112888,125288,129288,131928,147208,148808,159928,161688,170488,232808,248328,258008,275448,298408,348728,359608,387768,417848,418168,439608,457448,458968,483048,489128,501048,505448,509048,525768,532248,540168,543448,566168,596648,599528,601208,601528,618648,623368,625128,637288,653288,684888,691448,724088,738088,749848,759368,772648,774168,788808,802408,824328,826408,861128,877288,891928,894008,919288,974248,1013848,1017848,1031688,1089608,1090328,1124728,1126488,1134568,1137448,1153368,1169288,1173608,1186008,1187848,1207928);
		$cache = Hapyfish2_Island_Cache_BasicInfo::getBasicMC();
		$key = 'robot:u:list';
		$cache->delete($key);
		for($i=1;$i<=500;$i++){
			$list[$i] = 's'.$i; 
		}
		$cache->set($key,$list);
		foreach($uidlist as $uid){
			$list = $cache->get($key);
			$gidk = array_rand($list,1);
			$gid = $list[$gidk];
			unset($list[$gidk]);
			$cache->set($key,$list);
			Hapyfish2_Island_Tool_Robot::dumpInitIsland($uid, $gid);
		}
		
		echo 'OK';
		exit;	
}
catch (Exception $e) {
	err_log($e->getMessage());
}